<%# locals: (category:, size: "sm", data: {}) -%>

<%= tag.div(
  class: class_names(
    "avatar group size--#{size}",
    "avatar-placeholder"
  )
) do %>
  <%= tag.div(
    data: data,
    class: [
      category_color(category),
      "rounded-full",
      "group-[.size--sm]:w-10",
      "group-[.size--md]:w-12",
      "group-[.size--lg]:w-15",
      "text-neutral-content",
    ].join(" ")
  ) do %>
    <% icon_classes = "category-icon fill-white group-[.size--sm]:w-6 group-[.size--md]:w-7 group-[.size--lg]:w-10" %>

    <% if category.persisted? && category.icon.blank? %>
      <%= category_icon_placeholder(category, class: icon_classes) %> 
    <% else %>
      <%= category_icon(category, variant: :solid, class: icon_classes) %>
    <% end %>
  <% end %>
<% end %>
